<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Page</title>

	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
	<link rel="stylesheet" href="../css/adminPage.css">
	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
	<script src="../script/jquery.js"></script>
	<script src="../script/adminView.js"></script>
    

</head>
<body>
	<div class="wrapper">
    <div class="loader"></div>
    </div>
	{{!-- -----------------------------------------------------NAVBAR-----------------------------------------------------------------}}
	<nav class="navbar navbar-expand-lg navbar-light">
        <a class="navbar-brand text-light" href="/">AIRLINE MANAGER</a>
		<img src="../images/flightIcon.ico" style="height:3em">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        
        <nav class="justify-content-end collapse navbar-collapse shift" id="navbarSupportedContent">
          <ul class="navbar-nav">
            <li class="nav-item bar">
                <a class="nav-item nav-link active text-white " href="/">Home</a>
            </li>
            <li class="nav-item bar">
                <a class="nav-item nav-link text-white" href="/admin/">Admin</a>
            </li>
            <li class="nav-item bar">
                <a class="nav-item nav-link text-white" href="/user">User</a>
            </li>
            <li class="nav-item bar">
                <a class="nav-item nav-link text-white" id="login" href="/root/login">Login</a>
            </li>
            <li class="nav-item bar">
                <a class="nav-item nav-link text-white" id="signup" href="/root/signUp">SignUp</a>
            </li>
            <li class="nav-item bar username"> 
                <span class="text-white" id="user"></span>
            </li>

            <li class="nav-item bar">
                <a class="nav-link text-white" id="logout" href="/root/logout">Logout</a>
            </li>    
          </ul>
        </nav>
	</nav>
	{{!-- -----------------------------------------------------------------------------------------------------------------------------------}}

	{{!-- --------------------------------------------------------ADMIN PAGE BUTTONS--------------------------------------------------------}}
	<nav class="bg-white">
		<div id="navbarNav">
			<ul class="navbar-nav" style="display: inline;">
				<li class="bar space">
					<button id="fdbtn" class="btn btn-outline-success adminNav active" type="button">Flight Details</button>				
				</li>
				<li class="bar space">
					<button id="schbtn" class="btn btn-outline-danger adminNav active" type="button">Schedule Flight</button>
				</li>
				<li class="bar space">
					<button id="inbtn" class="btn btn-outline-primary adminNav active" type="button">Insert Flight</button>
				</li>		
				<li class="bar space">
					<button id="sbtn" class="btn btn-outline-info adminNav active" type="button">Search Details</button>
				</li>
			</ul>
		</div>
	</nav>
	{{!-- ------------------------------------------------------------------------------------------------------------------------------------}}

	
	{{!-- -------------------------------------------------------------Schedule Insertion---------------------------------------------------------}}
	<div id="scheduleFlight">
		<form method="POST" action="/admin/schedule">
			<h5><mark>Schedule Flight</mark></h5> <br>
			<div class="row">
				<input type="text" id="flightId" name="flightId" class="col-lg-2 form-control" placeholder="Flight ID"> &nbsp; &nbsp; &nbsp;
				<input type="text" id="flightName" name="flightName" class="col-lg-2 form-control" placeholder="Flight Name">
			</div> 
			<div class="row">
				<input type="text" id="source" name="source" class="col-lg-2 form-control" placeholder="Source"> &nbsp; &nbsp; &nbsp;
				<input type="text" id="destination" name="destination" class="col-lg-2 form-control" placeholder="Destination">
			</div>  
			<div class="row">
				<input type="text" id="price" name="price" class="col-lg-2 form-control" placeholder="Price">
			</div>
			<div class="row">
				<label for="startDate" class="input-group-text">Start Date:</label>
				<input type="date" id="startDate" name="startDate" class="col-lg-2 form-control" placeholder="Start Date"> &nbsp; &nbsp; &nbsp;
				<label for="startTime" class="input-group-text">Start Time:</label>
				<input type="time" id="startTime" name="startTime" class="col-lg-2 form-control" placeholder="Start Time">
			</div>
			<div class="row">
				<label for="endDate" class="input-group-text">End Date:</label>
				<input type="date" id="endDate" name="endDate" class="col-lg-2 form-control" placeholder="End Date"> &nbsp; &nbsp; &nbsp; &nbsp;
				<label for="endTime" class="input-group-text">End Time:</label>
				<input type="time" id="endTime" name="endTime" class="col-lg-2 form-control" placeholder="Ending Time">
			</div>
			<br>
			<div class="row">
				<input type="submit" class="col-lg-1 form-control btn-primary" name="submit">
			</div>
		</form>
	</div>
    {{!-- ------------------------------------------------------------------------------------------------------------------------------------}}

	{{!-----------------------------------------------------------------Flight Insertion------------------------------------------------------}}
	<div id="insertFlight">
		<form method="POST" action="/admin/insertFlight">
			<h5><mark>Insert Flight</mark></h5>
			<div class="row">
				<input type="text"  name="flightId" class="col-lg-2 form-control" placeholder="Flight ID">
			</div>
			<div class="row">
				<input type="text"  name="flightName" class="col-lg-2 form-control" placeholder="Flight Name">
			</div>
			<div class="row">
				<input type="number"  name="capacity" class="col-lg-2 form-control" placeholder="Capacity">
			</div>
			<br>
			<div class="row">
				<input type="submit" class="col-lg-1 form-control btn-primary" name="submit">
			</div>
		</form>
	</div>


	{{!------------------------------------------------------------Flight Details------------------------------------------------------------}}
	
	<div id="flightDetails" >
		<h4 class="text-center"><mark>Flight Schedule</mark></h4>
		<br>
		<table id="details" class="table table-hover border-dark table-info border border-dark">
			{{#if flights}}
				<tr class="font-weight-bold text-white text-monospace bg-dark">
					<th>FId</th>
					<th>Name </th>
					<th>Source</th>
					<th>Destination</th>
					<th>Price</th>
					<th>Start Date</th>
					<th>Start Time</th>
					<th>End Date</th>
					<th>End Time</th>
					<th>Seats_Left</th>
				</tr>
			{{/if}}
			{{#each flights as |item|}}
				<tr class="text-monospace text-capitalize">
					<td class="flightId">{{item.flightId}}</td>
					<td class="flightName">{{item.flightName}}</td>
					<td class="source">{{item.source}}</td>
					<td class="destination">{{item.destination}}</td>
					<td class="price">{{item.price}}</td>
					<td class="startDate">{{item.startDate}}</td>
					<td class="startTime">{{item.startTime}}</td>
					<td class="endDate">{{item.endDate}}</td>
					<td class="endTime">{{item.endTime}}</td>
					<td class="seatsLeft">{{item.seats_left}}</td>
				</tr>
			{{/each}}
		</table>
		<br> <br> <br>
		<h4 class="text-center"><mark>Flight Details</mark></h4>
		<br>
		<table id="flight_info" class="table table-hover table-success border border-dark">
			{{#if details}}
				<tr class="text-white bg-dark">
					<th>FId</th>
					<th>Name </th>
					<th>Capacity</th>
				</tr>
			{{/if}}
			{{#each details as |item|}}
				<tr class="text-monospace">
					<td>{{item.flight_id}}</td>
					<td>{{item.flight_name}}</td>
					<td>{{item.capacity}}</td>
				</tr>
			{{/each}}
		</table>
	</div>
	{{!--------------------------------------------------------------------------------------------------------------------------------------}}

	{{!-----------------------------------------------------------Search Admin---------------------------------------------------------------}}
	<div id="searchDetails">
		<div id="searchForm">
        	<h5>Search Details</h5>
            <div class="row">
                <input type="text" id="src" name="source" class="col-lg-2 form-control" placeholder="Source" required>
            </div>
            <div class="row">
                <input type="text" id="des" name="destination" class="col-lg-2 form-control" placeholder="Destination" required>
            </div>
            <div class="row">
                <label for="sd" class="input-group-text">Start Date:</label>
                <input type="date" id="sd" name="startDate" class="col-lg-2 form-control" placeholder="Start Date" required>
            </div>
            <br>
            <div class="row">
                <input type="submit" id="searchSubmit" class="col-lg-1 form-control btn-primary" name="submit">
            </div>
		</div>
		<div id="alertSearch" class="alert alert-warning alert-dismissible fade show" role="alert" >
			<strong>Sorry!! No such flights found.</strong>
			<button type="button" class="close" data-dismiss="alert" aria-label="Close">
				<span aria-hidden="true">&times;</span>
			</button>
		</div>
		<table id="searchTable" class="table table-hover">
			<thead>
				<tr id="topRow" class="font-weight-bold text-white text-monospace bg-dark">
					<th>FId</th>
					<th>Name </th>
					<th>Source</th>
					<th>Destination</th>
					<th>Price</th>
					<th>Start Date</th>
					<th>Start Time</th>
					<th>End Date</th>
					<th>End Time</th>
					<th>Seats_Left</th>
				</tr>
			</thead>
			<tbody>

			</tbody>

		</table>
	</div>


	
</body>
</html>